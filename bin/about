#!/usr/bin/python

#ABOUT:
# Use this script to print the 'ABOUT' information of a custom script
# that contains the 'ABOUT:' "delimeter", if you will, at the top of the script,
# such as this one.
#:ABOUT

import sys

if len(sys.argv) == 2:
    file = sys.argv[1]
elif len(sys.argv) > 2:
    sys.stderr.write("[ERROR] one and only argument is to be supplied\n")
else:
    file = sys.argv[0]

beg = "#ABOUT:"
end = "#:ABOUT"
started = False

try:
    with open(file) as f:
        stuff = ""
        for i, line in enumerate(f):
            if beg in line: started = True
            if started: stuff += line
            if end in line: break
        if stuff:
            if stuff[-1] == "\n": stuff = stuff[:-1]
            print stuff
        else: print "ABOUT string not found in '"+sys.argv[1]+"'"
except IOError as ioe:
    sys.stderr.write("Not a file.\n"+str(ioe)+"\n")
    sys.exit(1)
sys.exit(0)